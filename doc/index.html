
<!DOCTYPE html>
<meta charset="utf-8">
<html>
  <head>
    
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="js/jquery-1.10.1.js"></script>
    <script src="js/d3.v3.js"></script>
    <script src="js/lodash.js"></script>
    <script src="js/sidenote.js"></script>
  </head>
  <body>
    <div class="btn-group addRemoveColumn">
      <button class="btn"><a href="javascript:Sidenote.more()">more columns</a></button>
      <button class="btn"><a href="javascript:Sidenote.less()">fewer columns</a></button>
    </div>
    <div class="headerbox">
<h1>Robo Dojo</h1>
    </div>
    <ul id="breadcrumbs" class="breadcrumb"></ul>
    <div id='column-container'>
      <a href="javascript:Sidenote.goBack()"><img id="left-arrow" class="hide-arrow" src="img/left_arrow.png"></a>
      <a href="javascript:Sidenote.goForward()"><img id="right-arrow" class="hide-arrow" src="img/right_arrow.png"></a>
      <div class='column' id="column0"></div>
    </div>
    <div class="content-storage">
<div id='different-winners'>
<h2>Winners are different</h2>
<p>In this situation, we flip a coin to decide which program moves ahead in the
tournament.</p>
</div>

<div id='ref-labels'>
<h2>Labels</h2>
<p>Labels mark places in your program for <a href="javascript:Sidenote.openColumnLoud('#ref-labels','#jump-instruction','&lt;tt&gt;jump&lt;/tt&gt;')"><tt>jump</tt></a>
and <a href="javascript:Sidenote.openColumnLoud('#ref-labels','#bjump-instruction','&lt;tt&gt;bjump&lt;/tt&gt;')"><tt>bjump</tt></a> instructions.</p>
<h3>Example 1</h3>
<pre><code>@foo
add #1, 1
jump @foo
</code></pre>
<h3>Example 2</h3>
<pre><code>bank main ; bank 1
    bjump 4, @start

bank foo ; 2
bank bar ; 3

bank baz ; 4
    create 1, 1, 1

    @start
    turn 1
</code></pre>
</div>

<div id='Super-diamond-program'>
<h2>Super Diamond program</h2>
<pre><code>bank main

    @start

    ; Register #1 = "empty", or "opponent", or "friend" 
    scan #1

    ; if "opponent" goto @foe
    ; else goto @friend-or-empty
    comp #1, 1
    jump @friend-or-empty
    jump @foe


    @friend-or-empty

    ; if "friend" skip the follow create instruction
    comp #1, 2
    create 2,2,0

    ; Disinfect / initialize new bot
    trans 1,1
    trans 2,2
    set %active, 1
    turn 1
    jump @start

    @foe
    ; Transfer tapout-malware to the opponent
    trans 2,1
    ; Make sure the opponent is active, so it can execute the foe bank
    set %active, 1
    jump @start

bank foe
    tapout
</code></pre>
</div>

<div id='eng-virus-prototype'>
<h2>Prototype Virus 1</h2>
<p>Recall, <a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#defeating-diamond','Super Diamond')">Super Diamond</a> and <a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#bank-jumping','Bank Jumper')">Bank Jumper</a>
defeat individual bots by infecting them with tapout malware:</p>
<pre><code>bank foe
    tapout
</code></pre>
<p>We are going to replace that payload with a simple virus:</p>
<pre><code>bank foe
    trans 1,1
    turn 1
</code></pre>
<p>Here&#8217;s the <a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv1-program','complete program')">complete program</a>.</p>
<p>This virus spreads quickly because its execution time is small compared to
the disinfection routine. Here are some snapshots of Prototype Virus 1 taking
on Super Diamond:
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv-1-a','1')">1</a>,
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv-1-b','2')">2</a>, 
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv-1-c','3')">3</a>, 
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv-1-d','4')">4</a>, 
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv-1-e','5')">5</a>, 
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv-1-f','6')">6</a>, 
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv-1-g','7')">7</a>, 
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv-1-h','8')">8</a>, </p>
<p>Unfortunately, the virus is so effective it ends up
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype','#pv1-self-infect','infecting Blue&amp;#8217;s bots')">infecting Blue&#8217;s bots</a> at the frontier.</p>
<p>Furthermore, Prototype Virus 1 has no mechanism to tapout its opponent;
it merely spreads a virus.</p>
</div>

<div id='guide-hello-editor'>
<h2>Editors</h2>
<p>There are four editors, one for each color: blue, red, green, and yellow.</p>
<p>The blue editor edits the blue bot&#8217;s program, etc.</p>
<p>To select your editor, click the &#8220;Blue bot&#8221; drop down menu.</p>
<p><img src="img/editor-selection.png"></p>
</div>

<div id='guide-repl-trans'>
<h2>The <tt>trans</tt> instruction</h2>
<p>The <code>trans</code> instruction uploads one bank from one bot to another.</p>
<p>There are two parameters:</p>
<ol>
<li>Source bank number</li>
<li>Destination bank number</li>
</ol>
<p>During the <code>trans</code> instruction&#8217;s last cycle, if the forward cell is occupied,
then the bot copies its Source bank into the forward bot&#8217;s Destination bank,
overwriting any bank that might already be there.</p>
<p>Thus <code>trans 1,1</code> copies the <tt>main</tt> bank from parent to child.</p>
</div>

<div id='t826-rc-demo'>
<h2>T=826 in RoboCom</h2>
<p><img src="img/compat-826-rc.png"></p>
</div>

<div id='guide-repl-create-instrset-bot'>
<h2>Which instructions each bot may execute</h2>
<ul>
<li>A Basic bot can only execute Basic instructions</li>
<li>An Advanced bot can execute Basic and Advanced instructions</li>
<li>A Super bot can execute Basic, Advanced, and Super instructions</li>
</ul>
</div>

<div id='ref-active'>
<h2>Active</h2>
<p>For any given bot, at any given moment: the bot is either <em>active</em> or
<em>deactivated</em>.</p>
<p>If a bot is active, then it will execute a <a href="javascript:Sidenote.openColumnLoud('#ref-active','#ref-cycles','cycle')">cycle</a>
during its turn during the current step.</p>
<p>If a bot is deactivated, then it will not execute anything &#8212; until it becomes
activated.</p>
<p>For a bot to become activated, its <code>#active</code> register must be set to 1 or
greater. Note: a bot cannot activate itself since it cannot execute. To
activate a deactivated bot, another but must set <code>#active</code> by using
<a href="javascript:Sidenote.openColumnLoud('#ref-active','#remote-access','Remote Access')">Remote Access</a>.</p>
</div>

<div id='empty-banks-program'>
<h2>Complete program</h2>
<pre><code>bank launcher ; 1

    ; LOOK HERE: jump to bank 3 to evade Super Diamond's attack
    bjump 3,1

bank 2

bank main ; 3

    @start

    ; Register #1 = "empty", or "opponent", or "friend" 
    scan #1

    ; if "opponent" goto @foe
    ; else goto @friend-or-empty
    comp #1, 1
    jump @friend-or-empty
    jump @foe


    @friend-or-empty

    ; if "friend" skip the follow create instruction
    comp #1, 2
    create 2,3,0

    ; LOOK HERE: Disinfect / initialize new bot
    trans 1,1
    trans 3,3
    set %active, 1
    turn 1
    jump @start

    @foe
    set #2, 1

    @foe-loop
    comp #2, 51
    jump @foe-infect

    ; end of loop
    jump @start

    @foe-infect
    trans 2, #2
    set %active, 1

    add #2, 1

    scan #3
    comp #3, 1
    jump @start
    jump @foe-loop
</code></pre>
</div>

<div id='defeating-diamond-tapout'>
<h2><tt>tapout</tt></h2>
<p>When executed, the <code>tapout</code> instruction causes the bot to exit the board.</p>
</div>

<div id='compat-myster-diff'>
<h2>Simulations diverged</h2>
<ul>
<li>At <a href="javascript:Sidenote.openColumnLoud('#compat-myster-diff','#t822','T=822')">T=822</a> the simulations for the selected bot were in sync </li>
<li>At <a href="javascript:Sidenote.openColumnLoud('#compat-myster-diff','#t826','T=826')">T=826</a> the selected bot in the Robo Dojo simulation completed executing a
    <code>set</code> instruction, and loaded a <code>bjump</code> instruction</li>
<li>At <a href="javascript:Sidenote.openColumnLoud('#compat-myster-diff','#t827','T=827')">T=827</a> the selected bot in RoboCom performed the same operation as Robo
    Dojo at T=826</li>
</ul>
</div>

<div id='ref-parameters-local'>
<h2>Local parameters</h2>
<p>When a parameter is <em>local</em>, that means that the value is stored inside the
bot that is executing the instruction.</p>
<p>Local parameters begin with either <code>#</code> or <code>$</code>, or are an integer literal such as
<code>5</code>.</p>
<p>Parameters that begin with <code>#</code>
are <a href="javascript:Sidenote.openColumnLoud('#ref-parameters-local','#ref-parameters-writable','writable')">writable</a>.</p>
<p>Parameters that begin with <code>$</code> are not writable &#8212; they are local constants.</p>
<h3>List of all local parameters</h3>
<table>
    <tr>
        <td><code>-32768</code> &#8230; <code>32767</code></td>
        <td>These are 16-bit integer literals.</td>
    </tr>
    <tr>
        <td><code>#active</code></td>
        <td>This is a special register: setting <code>#active</code> to 0 or negative deactivates the bot.</td>
    </tr>
    <tr>
        <td><code>$banks</code></td>
        <td>The number of banks in the local bot.</td>
    </tr>
    <tr>
        <td><code>$instrset</code></td>
        <td>The instruction set of the local bot. <code>0</code> signifies
        the <i>Basic</i> instruction set; <code>1</code> signifies the
        <i>Advanced</i> instruction
        set; <code>2</code> signifies the <i>Super</i> instruction set.</td>
    </tr>
    <tr>
        <td><code>$mobile</code></td>
        <td><code>0</code> if the bot is immobile; <code>1</code>
        if the bot is mobile.</td>
    </tr>
    <tr>
        <td><code>$fields</code></td>
        <td>The number of rows on the board.</td>
    </tr>
</table>

<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-parameters-local','#ref-instrset','Instruction Sets')">Instruction Sets</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-parameters-local','#ref-banks','Banks')">Banks</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-parameters-local','#ref-mobility','Mobility')">Mobility</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-parameters-local','#ref-active','Active')">Active</a></li>
</ul>
</div>

<div id='overtime-match'>
<h2>Overtime Matches</h2>
<p>Say the Robo Dojo result for a match is 0-2-5,
but the RoboCom result is 0-0-7. We then wonder: &#8220;is it even possible for
the second player to win in this match in Robo Com?&#8221;&#8221; In such situations, we
go into overtime, which means retrying the match in RoboCom until either:
(a) the second player scores a win (which definitely answers out question), or
(b) the second player never scores a win and we reach a total of 14 matches.</p>
</div>

<div id='t822-demo'>
<h2>T=822</h2>
<p><img src="img/compat-822-rd.png"></p>
<p><img src="img/compat-822-rc.png"></p>
</div>

<div id='main'>
<p>Robo Dojo is a game where you program bots to battle each other with home-brewed
viruses (<a href="javascript:Sidenote.openColumnLoud('#main','#4way','screenshot')">screenshot</a>).
Robo Dojo clones the 1998 game <a href="javascript:Sidenote.openColumnLoud('#main','#robocom','RoboCom')">RoboCom</a>.</p>
<ul>
<li><a href="http://robodojo.club">Play Robo Dojo</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#main','#guide','Guide')">Guide</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#main','#ref','Reference Manual')">Reference Manual</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#main','#debugging','Debugging Manual')">Debugging Manual</a></li>
</ul>
</div>

<div id='ad-battle-4'>
<p><img src="img/anti-diamond-4.png"></p>
</div>

<div id='ad-battle-5'>
<p><img src="img/anti-diamond-5.png"></p>
</div>

<div id='ad-battle-2'>
<p><img src="img/anti-diamond-2.png">
The red squares indicate a Red bot has just tapped out there.</p>
</div>

<div id='blue-infected-picture'>
<h2>An infected blue bot</h2>
<p><img src="img/infected-bluebot.png"></p>
</div>

<div id='ad-battle-1'>
<p><img src="img/anti-diamond-1.png"></p>
</div>

<div id='bjump-instruction'>
<h2><tt>bjump bank, instruction</tt></h2>
<table>
    </tr>
        <td>Semantics</td>
        <td>
            Sets the instruction pointer to bank <tt>bank</tt>, instruction
            <tt>instruction</tt>
        </td>
    </tr>
    <tr>
        <td>Data types</td>
        <td><tt>bank</tt> and <tt>instruction</tt> can be any parameter. <br>
        <tt>instruction</tt> can also be a label
        </td>
    </tr>
    <tr>
        <td>Instruction set</td>
        <td>Basic</td>
    </tr>
    <tr>
        <td>Number of cycles</td>
        <td>5</td>
    </tr>
    <tr>
        <td>Runtime exceptions</td>
        <td>
            <ul>
               <li>If <tt>bank</tt> > 50 or <tt>bank</tt> < 1,
                    then the bot taps out
               </li> 
               <li>Else if the bot does not have the specified <tt>bank</tt>,
               or the specified <tt>instruction</tt>, then the bot Auto
               Reboots
            </ul>
        </td>
    </tr>
</table>

<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#bjump-instruction','#ref-banks','Banks')">Banks</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#bjump-instruction','#ref-labels','Labels')">Labels</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#bjump-instruction','#auto-reboot','Auto Reboot')">Auto Reboot</a></li>
</ul>
</div>

<div id='ref-data-hunger'>
<h2>Data Hunger</h2>
<p>If a bot finds an empty first bank after an <a href="javascript:Sidenote.openColumnLoud('#ref-data-hunger','#auto-reboot','Auto Reboot')">Auto Reboot</a>, or
upon <a href="javascript:Sidenote.openColumnLoud('#ref-data-hunger','#ref-active','activation')">activation</a> for the first time, then the bot
taps out from &#8220;Data Hunger.&#8221;</p>
</div>

<div id='wave'>
<h2>Wave Virus</h2>
<p>Bank Jumper modified to use virus instead of tapout</p>
<pre><code>bank launcher ; 1

    ; jump to bank 3 to evade Super Diamond's attack
    bjump 3,1

bank 2

bank main ; 3

    @start

    ; Register #1 = "empty", or "opponent", or "friend" 
    scan #1

    ; if "opponent" goto @foe
    ; else goto @friend-or-empty
    comp #1, 1
    jump @friend-or-empty
    jump @foe


    @friend-or-empty

    ; if "friend" skip the follow create instruction
    comp #1, 2
    create 2,4,0

    ; Disinfect / initialize new bot
    trans 1,1
    trans 3,3
    trans 4,4
    set %active, 1
    turn 1
    jump @start

    @foe
    ; LOOK HERE: Transfer wave virus to the opponent
    trans 4,1
    ; Make sure the opponent is active, so it can execute the foe bank
    set %active, 1
    jump @start

bank wave-virus ;4
    turn 1
    trans 1,1
    bjump 3,1
</code></pre>
<p>Wave Virus with submission hold</p>
<pre><code>bank launcher ; 1

    ; LOOK HERE: jump to bank 3 to evade Super Diamond's attack
    bjump 3,1

bank 2

bank main ; 3

    @start

    ; Register #1 = "empty", or "opponent", or "friend" 
    scan #1

    ; if "opponent" goto @foe
    ; else goto @friend-or-empty
    comp #1, 1
    jump @friend-or-empty
    jump @foe


    @friend-or-empty

    ; if "friend" skip the follow create instruction
    comp #1, 2
    create 2,5,0

    ; LOOK HERE: Disinfect / initialize new bot
    trans 1,1
    trans 3,3
    trans 4,4
    trans 5,5
    set %active, 1
    turn 1
    jump @start

    @foe
    ; LOOK HERE: Transfer self-destruct virus to the opponent
    trans 4,1
    ; Make sure the opponent is active, so it can execute the foe bank
    set %active, 1
    trans 5,1
    jump @start

bank virus ;4
    trans 1,1
    turn 1
    bjump 3,1

bank tapout ;5
    tapout
</code></pre>
</div>

<div id='replication'>
<h2>Replication</h2>
<p>The following program causes your bot to clone itself, then its child clones
itself, and so on:</p>
<pre><code>bank main
create 2,1,0
trans 1,1
set %active, 1
</code></pre>
<p><a href="javascript:Sidenote.openColumnLoud('#replication','#guide-repl-screenshot','Screenshot')">Screenshot</a></p>
<h3>How it works</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#replication','#guide-repl-create','The &lt;tt&gt;create&lt;/tt&gt; instruction')">The <tt>create</tt> instruction</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#replication','#guide-repl-trans','The &lt;tt&gt;trans&lt;/tt&gt; instruction')">The <tt>trans</tt> instruction</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#replication','#guide-repl-set','The &lt;tt&gt;set&lt;/tt&gt; instruction')">The <tt>set</tt> instruction</a></li>
</ul>
</div>

<div id='ref-parameters'>
<h2>Parameters</h2>
<p>Most instructions take parameters. <a href="javascript:Sidenote.openColumnLoud('#ref-parameters','#ref-parameters-example','For example&amp;#8230;')">For example&#8230;</a></p>
<p>Every parameter has the data type of 16-bit integer.</p>
<h3>Read, write, local, &amp; remote</h3>
<p>Every parameter is <em>readable</em>.</p>
<p>Some parameters are <a href="javascript:Sidenote.openColumnLoud('#ref-parameters','#ref-parameters-writable','*writable*')"><em>writable</em></a>,
<a href="javascript:Sidenote.openColumnLoud('#ref-parameters','#ref-parameters-local','*local*')"><em>local</em></a>, or <a href="javascript:Sidenote.openColumnLoud('#ref-parameters','#ref-parameters-remote','*remote*')"><em>remote</em></a>.</p>
<h3>Parameter list</h3>
<table>
    <tr>
        <td><code>-32768</code> &#8230; <code>32767</code></td>
        <td>These are 16-bit integer literals.</td>
    </tr>
    <tr>
        <td><code>#1</code> &#8230; <code>#20</code></td>
        <td>These local registers store arbitrary integer values</td>
    </tr>
    <tr>
        <td><code>#active</code></td>
        <td>This is a special register: setting <code>#active</code> to 0 or negative deactivates the bot.</td>
    </tr>
    <tr>
        <td><code>%active</code></td>
        <td><code>%active</code> is the only remote parameter that is writable. Setting <code>%active</code> to 0 or negative
            deactivates the forward bot. In contrast, setting <code>%active</code> to a positive value activates the forward bot.</td>
    </tr>
    <tr>
        <td><code>$banks</code></td>
        <td>The number of banks in the local bot.</td>
    </tr>
    <tr>
        <td><code>%banks</code></td>
        <td>The number of banks in the forward bot.</td>
    </tr>
    <tr>
        <td><code>$fields</code></td>
        <td>The number of rows on the board.</td>
    </tr>
    <tr>
        <td><code>$instrset</code></td>
        <td>The instruction set of the local bot. <code>0</code> signifies
        the <i>Basic</i> instruction set; <code>1</code> signifies the
        <i>Advanced</i> instruction
        set; <code>2</code> signifies the <i>Super</i> instruction set.</td>
    </tr>
    <tr>
        <td><code>%instrset</code></td>
        <td>The instruction set of the forward bot. <code>0</code> signifies
        the <i>Basic</i> instruction set; <code>1</code> signifies the
        <i>Advanced</i> instruction
        set; <code>2</code> signifies the <i>Super</i> instruction set.</td>
    </tr>
    <tr>
        <td><code>$mobile</code></td>
        <td><code>0</code> if the bot is immobile; <code>1</code>
        if the bot is mobile.</td>
    </tr>
    <tr>
        <td><code>%mobile</code></td>
        <td><code>0</code> if the forward bot is  immobile; <code>1</code>
        if the forward bot is mobile.</td>
    </tr>

</table>
</div>

<div id='bank-jumping-program'>
<h2>Bank Jumper program</h2>
<p>We point out the differences from Super Diamond by putting &#8220;LOOK HERE&#8221; in the
comments.</p>
<pre><code>bank launcher ; 1

    ; LOOK HERE: jump to bank 3 to evade Super Diamond's attack
    bjump 3,1

bank 2

bank main ; 3

    @start

    ; Register #1 = "empty", or "opponent", or "friend" 
    scan #1

    ; if "opponent" goto @foe
    ; else goto @friend-or-empty
    comp #1, 1
    jump @friend-or-empty
    jump @foe


    @friend-or-empty

    ; if "friend" skip the follow create instruction
    comp #1, 2
    create 2,4,0

    ; LOOK HERE: Disinfect / initialize new bot
    trans 1,1
    trans 3,3
    trans 4,4
    set %active, 1
    turn 1
    jump @start

    @foe
    ; LOOK HERE: Transfer self-destruct malware to the opponent
    trans 4,1
    ; Make sure the opponent is active, so it can execute the foe bank
    set %active, 1
    jump @start

bank foe ; 4
    tapout
</code></pre>
</div>

<div id='t827-rc-demo'>
<h2>T=827 in RoboCom</h2>
<p><img src="img/compat-827-rc.png"></p>
</div>

<div id='ref-parameters-example'>
<h2>For example</h2>
<p><code>set %active, 1</code> has parameters <code>%active</code> and <code>1</code>.</p>
</div>

<div id='rdrc-battles-details'>
<h2>Tournament results details</h2>
<p>Here&#8217;s <a href="javascript:Sidenote.openColumnLoud('#rdrc-battles-details','#results-table','how to read the results')">how to read the results</a>. The brackets are little
<a href="javascript:Sidenote.openColumnLoud('#rdrc-battles-details','#brackets','wonky')">wonky</a>, but that&#8217;s OK.</p>
<h3>Round 1</h3>
<pre><code>Match                               Robo Dojo   RoboCom  Footnotes
--------------------------------------------------------------------
Activator3 vs. Alien3.4               0-2-5       0-1-7     *
Alpha vs. Fruchtzwerk 2               2-0-5       1-0-6
Conciler vs. Kommari 2.1              6-0-1       6-0-1
Delusion 3.7 vs. Einfachst-DM.DV      7-0-0       7-0-0
DoomMob 1.6 vs. Flooder 1.0           0-7-0       0-7-0
Geza's McRobi vs. Goody2              0-7-0       0-7-0
Martins Echter vs. Goodymorph         0-0-7       0-0-7
HotBot V2 vs. inter#active            6-0-1       5-0-2
LastHopeC vs. &lt;Jo's little&gt;           6-0-1       8-0-1     *
Liquid Ice 1.2 vs. Lauf und Mine      0-7-1       0-4-3     *
Mikrovirus vs. The Masterkiller 1     0-6-1       0-5-2
Das Geschwür vs. TheMob.NextG2        0-0-7       0-0-7
The Overkiller vs. Nullen2            4-1-2      14-0-0     * +
Rainman vs. RecruteIT                 6-1-0       5-2-0
Simple vs. Seuche3                    0-0-7       0-0-7
Styx vs. Sweeper                      0-0-7       0-0-7
Tie Fighter vs. Test 3-1              0-7-0       0-7-0
UltimaDefender vs. Tom Himself        0-0-7       0-0-7
Zwei Arten vs. Zellwucher4            7-0-0       7-0-0
</code></pre>
<h3>Round 2</h3>
<pre><code>Match                                 Robo Dojo   RoboCom  Footnotes
----------------------------------------------------------------------
Alien3.4 vs. Alpha                    7-0-1       6-0-1     *
Conciler vs. Delusion 3.7             0-7-0       0-7-0
Flooder 1.0 vs. Goody2                1-2-4      1-0-13     * + -
Goodymorph vs. HotBot V2              0-2-5       0-2-5
LastHopeC vs. Lauf und Mine           7-0-0       7-0-0
The Masterkiller 1 vs. TheMob.NextG2  5-0-2       6-0-1
The Overkiller vs. Rainman            7-0-0       7-0-0
Seuche3 vs. Sweeper                   2-0-5       1-0-6
Test 3-1 vs. Tom Himself              7-0-0       7-0-0
Zwei Arten (bye)                      .....       .....
</code></pre>
<h3>Round 3</h3>
<pre><code>Match                                 Robo Dojo   RoboCom  Footnotes
----------------------------------------------------------------------
Alien3.4 (bye)                        .....       .....
Delusion 3.7 (bye)                    .....       .....
Goody2 (bye)                          .....       .....
HotBot V2 (bye)                       .....       .....
LastHopeC (bye)                       .....       .....
The Masterkiller (bye)                .....       .....
The Overkiller vs. Seuche3            1-7-1      12-0-2    * + -
Test 3-1 vs. Zwei Arten               3-4-0       4-3-0        -
</code></pre>
<h3>Round 4</h3>
<pre><code>Match                                 Robo Dojo   RoboCom  Footnotes
----------------------------------------------------------------------
Alien3.4 vs. Delusion 3.7            11-3-0       2-4-1    * + -
Goody2 vs. HotBot V2                  0-7-0       0-7-0
LastHopeC vs. The Masterkiller        0-1-7       0-2-5    *
The Overkiller vs. Test 3-1           7-0-0       7-0-0
</code></pre>
<h3>Round 5</h3>
<pre><code>Match                                 Robo Dojo   RoboCom  Footnotes
----------------------------------------------------------------------
Alien 3.4 vs. HotBot V2               0-7-0       0-7-0                     
The Masterkiller vs. The Overkiller   6-0-1       3-0-4
</code></pre>
<h3>Round 6</h3>
<pre><code>Match                                 Robo Dojo   RoboCom  Footnotes
----------------------------------------------------------------------
HotBot V2 vs. The Masterkiller        0-4-3      0-14-0    * +
</code></pre>
<h3>Champion</h3>
<pre><code>The Masterkiller
</code></pre>
</div>

<div id='eng-virus-prototype-3'>
<h2>Prototype Virus 3</h2>
<p>PV3 modifies PV2 so that sometimes it taps out opponents.
Thus, it is able to both infect and eliminate Super Diamond bots.</p>
<p>In PV2 the <code>@foe</code> section of the program infects opponents with the virus.</p>
<p>For PV3, we rewrite <code>@foe</code> as follows:</p>
<pre><code>If (#20 == 0) {
    #20 = 1
    infect with tapout malware
} else {
    #20 = 0
    infect with virus
}
</code></pre>
<p>Here&#8217;s the <a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype-3','#pv3-foe','actual code')">actual code</a> for the <code>@foe</code> section, and here&#8217;s the
<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype-3','#pv3-program','complete program')">complete program</a>.</p>
<p>PV3 successfully completely eliminates Super Diamond.</p>
</div>

<div id='eng-virus-prototype-2'>
<h2>Prototype Virus 2</h2>
<p>PV2 modifies PV1 so that it heals from self-infection.</p>
<p>We replace the old payload with a new payload:</p>
<pre><code>bank foe
    trans 1,1
    turn 1
    bjump 3, 1
</code></pre>
<p>Here is the <a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype-2','#pv2-program','complete program')">complete program</a>.</p>
<p>For Super Diamond bots, the new payload behaves <a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype-2','#pv2-sd-comparison','similar')">similar</a> to the old payload.</p>
<p>For PV2 bots, the new payload behaves <a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype-2','#pv2-payload-comparison','differently')">differently</a> compared to the old payload. </p>
<p>Consequently, PV2 bots don&#8217;t become stuck and they completely surround the 
infected Super Diamond bots (<a href="javascript:Sidenote.openColumnLoud('#eng-virus-prototype-2','#pv2-screenshot','screenshot')">screenshot</a>).</p>
<p>But, the PV2 bots still don&#8217;t have a mechanism to tap out the infected Super
Diamond bots.</p>
</div>

<div id='ref-banks'>
<h2>Banks</h2>
<p>Every program is segmented into banks; every instruction belongs to exactly
one bank.</p>
<p>A bot can have a maximum of 50 banks.</p>
<p>The <a href="javascript:Sidenote.openColumnLoud('#ref-banks','#ref-bank-instruction','&lt;tt&gt;bjump&lt;/tt&gt; instruction')"><tt>bjump</tt> instruction</a> is used to
jump between banks.</p>
<p>The <a href="javascript:Sidenote.openColumnLoud('#ref-banks','#ref-trans-instruction','&lt;tt&gt;trans&lt;/tt&gt; instruction')"><tt>trans</tt> instruction</a> is used to transfer
a bank from one bot to its forward bot.</p>
<p>If a bot&#8217;s execution reaches the end of a bank, then the bot performs
an <a href="javascript:Sidenote.openColumnLoud('#ref-banks','#ref-auto-reboot','Auto Reboot')">Auto Reboot</a>.</p>
</div>

<div id='comp-instruction'>
<h2><tt>comp a, b</tt></h2>
<table>
    </tr>
        <td>Semantics</td>
        <td>If <tt>a</tt> == <tt>b</tt>, then the next instruction is skipped;
        otherwise, the next instruction is executed as normal.
        </td>
    </tr>
    <tr>
        <td>Data types</td>
        <td>
            <tt>a</tt> and <tt>b</tt> can be any parameter.
        </td>
    </tr>
    <tr>
        <td>Instruction set</td>
        <td>Basic</td>
    </tr>
    <tr>
        <td>Number of cycles</td>
        <td>3</td>
    </tr>
    <tr>
        <td>Runtime exceptions</td>
        <td>
            None
        </td>
    </tr>
</table>
</div>

<div id='ref-cycles'>
<h2>Steps and Cycles</h2>
<p>Simulations progress one step at a time.</p>
<p>Each step, each bot on the board executes a single cycle. The bots are
executed in order from oldest bot to youngest bot.</p>
<p>Every instruction requires a certain number of cycles before it executes.</p>
<p>For example the <a href="javascript:Sidenote.openColumnLoud('#ref-cycles','#ref-turn','&lt;tt&gt;turn&lt;/tt&gt; instruction')"><tt>turn</tt> instruction</a> requires 5 cycles.
On its 5th cycle, the <tt>turn</tt> operation actually goes into effect.</p>
<p><strong>TODO</strong>: Linkify</p>
</div>

<div id='guide-hello'>
<h2>Hello World</h2>
<p>The following program causes your bot to move across the board:</p>
<pre><code>bank main
move
</code></pre>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-hello','#guide-hello-run','How to run your program')">How to run your program</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-hello','#guide-hello-screenshot','Screenshot')">Screenshot</a></li>
</ul>
<h3>How it works</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-hello','#guide-hello-editor','Editors')">Editors</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-hello','#guide-hello-execution','Execution model')">Execution model</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-hello','#guide-hello-compile','Compile button')">Compile button</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-hello','#guide-hello-bank','The &lt;tt&gt;bank&lt;/tt&gt; directive')">The <tt>bank</tt> directive</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-hello','#guide-hello-move','The &lt;tt&gt;move&lt;/tt&gt; instruction')">The <tt>move</tt> instruction</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-hello','#guide-hello-autoreboot','Auto Reboot')">Auto Reboot</a></li>
</ul>
</div>

<div id='compat-mystery-start'>
<h2>Same starting position</h2>
<p><img src="img/compat-start-robodojo.png"></p>
<p><img src="img/compat-start-robocom.png"></p>
</div>

<div id='compat-mystery-2robots'>
<h2>Two robots</h2>
<p>Activator3 (orange/red) and Alien 1.4 (blue)</p>
</div>

<div id='guide-repl-create-instrset'>
<h2>Instruction set</h2>
<p>There are three instruction sets: Basic (0), Advanced (1), and Super (2).</p>
<p>Different instructions belong to different instruction sets.
<a href="javascript:Sidenote.openColumnLoud('#guide-repl-create-instrset','#guide-repl-create-instrset-example','For example')">For example</a>.</p>
<p>Each bot is either Basic, Advanced, or Super &#8212; which effects
<a href="javascript:Sidenote.openColumnLoud('#guide-repl-create-instrset','#guide-repl-create-instrset-bot','which instructions each bot may execute')">which instructions each bot may execute</a>.</p>
<p>The first parameter of the <code>create</code> instruction specifies the instruction set
for the child bot.</p>
<p>In our Replication program, we use the parameter 2 to specify that the child
should have the Super instruction set, since we want the child to be able to
<code>create</code> a child of its own.</p>
<p><strong>TODO</strong>: Link to instruction set documentation</p>
</div>

<div id='pv2-program'>
<h2>PV2 Program</h2>
<pre><code>bank launcher ; 1

    ; LOOK HERE: jump to bank 3 to evade Super Diamond's attack
    bjump 3,1

bank 2

bank main ; 3

    @start

    ; Register #1 = "empty", or "opponent", or "friend" 
    scan #1

    ; if "opponent" goto @foe
    ; else goto @friend-or-empty
    comp #1, 1
    jump @friend-or-empty
    jump @foe


    @friend-or-empty

    ; if "friend" skip the follow create instruction
    comp #1, 2
    create 2,4,0

    ; LOOK HERE: Disinfect / initialize new bot
    trans 1,1
    trans 3,3
    trans 4,4
    set %active, 1
    turn 1
    jump @start

    @foe
    ; LOOK HERE: Transfer self-destruct malware to the opponent
    trans 4,1
    ; Make sure the opponent is active, so it can execute the foe bank
    set %active, 1
    jump @start

bank foe ; 4
    trans 1,1
    turn 1
    bjump 3, 1
</code></pre>
</div>

<div id='cycle-strategy'>
<h2>The Strategy of Cycles</h2>
<p><strong>TODO</strong></p>
</div>

<div id='pv3-foe'>
<h2>Actual code for <code>@foe</code> section of PV3</h2>
<pre><code>@foe

comp #20, 0
jump @infect-with-virus

set #20, 1
trans 5,1
jump @restart

@infect-with-virus
; LOOK HERE: Transfer self-destruct malware to the opponent
set #20, 0
trans 4,1

@restart
; Make sure the opponent is active, so it can execute the foe bank
set %active, 1
jump @start
</code></pre>
</div>

<div id='brackets'>
<h2>Note on brackets</h2>
<p>I forgot about setting up byes until Round 2. In contrast to typical tournament
brackets, I added the byes in Round 2 and 3. For our purposes,
it doesn&#8217;t really matter.</p>
</div>

<div id='review'>
<h2>Review</h2>
<p>You have now learned all 12 Robo Dojo instructions.</p>
<ol>
<li><code>add #a, b</code></li>
<li><code>bjump a, b</code></li>
<li><code>comp a, b</code></li>
<li><code>create a, b, c</code></li>
<li><code>jump a</code></li>
<li><code>move</code></li>
<li><code>scan #a</code></li>
<li><code>set #a, b</code></li>
<li><code>sub #a, b</code></li>
<li><code>tapout</code></li>
<li><code>trans a, b</code></li>
<li><code>turn a</code></li>
</ol>
<p>You have also learned about Auto Reboot, Data Hunger, and some design patterns
for Robo Dojo programs.</p>
<p>You can progress your skills by studying the <a href="javascript:Sidenote.openColumnLoud('#review','#ref','Reference Manual')">Reference Manual</a> and 
other Robo Dojo programs (which you can access via <a href="http://robodojo.club">Robo Dojo</a>
itself).</p>
</div>

<div id='defeating-diamond-registers'>
<h2>Registers</h2>
<p>Bots can read and write registers.</p>
<p>Each bot has 20 registers: <code>#1</code> &#8230; <code>#20</code></p>
<h3>Example usage</h3>
<pre><code>set #1, 0
turn #1
</code></pre>
<p>This program segment sets <code>#1</code> equal to zero. Then <code>turn #1</code> is equivalent to 
<code>turn 0</code>.</p>
</div>

<div id='ref-instructions'>
<h2>Instructions</h2>
<p>There are 12 Robo Dojo instructions</p>
<ol>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#add-instruction','&lt;tt&gt;add a, b&lt;/tt&gt;')"><tt>add a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#bjump-instruction','&lt;tt&gt;bjump a, b&lt;/tt&gt;')"><tt>bjump a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#comp-instruction','&lt;tt&gt;comp a, b&lt;/tt&gt;')"><tt>comp a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#create-instruction','&lt;tt&gt;create a, b, c&lt;/tt&gt;')"><tt>create a, b, c</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#jump-instruction','&lt;tt&gt;jump a&lt;/tt&gt;')"><tt>jump a</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#move-instruction','&lt;tt&gt;move&lt;/tt&gt;')"><tt>move</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#scan-instruction','&lt;tt&gt;scan a&lt;/tt&gt;')"><tt>scan a</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#set-instruction','&lt;tt&gt;set a, b&lt;/tt&gt;')"><tt>set a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#sub-instruction','&lt;tt&gt;sub a, b&lt;/tt&gt;')"><tt>sub a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#tapout-instruction','&lt;tt&gt;tapout&lt;/tt&gt;')"><tt>tapout</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#trans-instruction','&lt;tt&gt;trans a, b&lt;/tt&gt;')"><tt>trans a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instructions','#turn-instruction','&lt;tt&gt;turn a&lt;/tt&gt;')"><tt>turn a</tt></a></li>
</ol>
</div>

<div id='pv2-screenshot'>
<h2>PV2 screenshot</h2>
<p><img src="img/pv-2.png"></p>
</div>

<div id='ref'>
<h2>Reference Manual</h2>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-active','Active')">Active</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#auto-reboot','Auto Reboot')">Auto Reboot</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-banks','Banks')">Banks</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-comments','Comments')">Comments</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-cycles','Steps and Cycles')">Steps and Cycles</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-data-hunger','Data Hunger')">Data Hunger</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-forward-bot','Forward Cell &amp; Bot')">Forward Cell &amp; Bot</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-instrset','Instruction Sets')">Instruction Sets</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-instructions','Instructions')">Instructions</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-labels','Labels')">Labels</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-mobility','Mobility')">Mobility</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#ref-parameters','Parameters')">Parameters</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref','#remote-access','Remote Access')">Remote Access</a></li>
</ul>
</div>

<div id='compat-mystery'>
<h2>Mysterious RoboCom semantics</h2>
<p>I loaded up <a href="javascript:Sidenote.openColumnLoud('#compat-mystery','#compat-mystery-2robots','two robots')">two robots</a> from the <a href="http://robocom.rrobek.de/?area=d_bots">July Package</a>,
and placed them in the <a href="javascript:Sidenote.openColumnLoud('#compat-mystery','#compat-mystery-start','same starting position')">same starting position</a> in both
Robo Dojo and RoboCom.</p>
<p>Then, the <a href="javascript:Sidenote.openColumnLoud('#compat-mystery','#compat-myster-diff','simulations diverged')">simulations diverged</a> between Robo Dojo and RoboCom.</p>
<p><strong>TODO</strong>: explain how I know my semantics are correct</p>
<p>I investigated several changes to Robo Dojo to see if I could get the 
simulations to converge, but none of the changes worked.</p>
</div>

<div id='guide-repl-create-mobility'>
<h2>Mobility</h2>
<p>Each bot is either mobile or immobile (i.e. whether or not it can execute the
<code>move</code> instruction).</p>
<p>The third parameter to the <code>create</code> instruction specifies whether or not the
child should be mobile:</p>
<ul>
<li>0 signifies immobility</li>
<li>1 signifies mobility </li>
</ul>
</div>

<div id='ref-instrset'>
<h2>Instruction Sets</h2>
<p>Different instructions belong to different Instruction Sets.</p>
<p>There are three instruction sets:</p>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset','#ref-instrset-basic','Basic')">Basic</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset','#ref-instrset-advanced','Advanced')">Advanced</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset','#ref-instrset-super','Super')">Super</a></li>
</ul>
<h3>The <tt>$instrset</tt> constant</h3>
<p>Each bot has an instruction-set constant: <code>$instrset</code> </p>
<ul>
<li>If <code>$instrset</code> == 0, then the bot can only execute Basic instructions</li>
<li>If <code>$instrset</code> == 1, then the bot can execute Basic and Advanced instructions</li>
<li>If <code>$instrset</code> == 2, then the bot can execute all instructions</li>
</ul>
<h3>Initializing <tt>$instrset</tt></h3>
<p>The <code>$instrset</code> value is determined when the bot is created. See the
<a href="javascript:Sidenote.openColumnLoud('#ref-instrset','#create-instruction','&lt;tt&gt;create&lt;/tt&gt; instruction')"><tt>create</tt> instruction</a>.</p>
</div>

<div id='guide-repl-create-numbanks'>
<h2>Number of banks</h2>
<p>Each bot contains one or more <a href="javascript:Sidenote.openColumnLoud('#guide-repl-create-numbanks','#guide-hello-bank','banks')">banks</a>.</p>
<p>The second parameter to the <code>create</code> instruction specifies how many banks
the child should have.</p>
<p>These will all be empty banks, which is to say every bank will have
zero instructions.</p>
</div>

<div id='pv1-self-infect'>
<h2>Self infection</h2>
<p>At first glance, it might not seem possible that Prototype Virus 1
could end up infecting its own bots &#8212; since PV1 spreads its virus through
bank 1 and PV1 operates out of bank 3.</p>
<p>A little <a href="javascript:Sidenote.openColumnLoud('#pv1-self-infect','#debugging','debugging')">debugging</a> shows what happens:</p>
<ol>
<li>A PV1 bot creates a child bot, and transfers bank 1 to bank 1</li>
<li>An infected bot infects the child</li>
<li>The PV1 parent then transfers the rest of the banks to the child</li>
<li>The parent activates the child</li>
<li>The child executes the virus bank</li>
</ol>
<p><strong>TODO</strong>: link to debugging</p>
</div>

<div id='defeating-diamond-pseudo'>
<h2>Pseudo code for Super Diamond</h2>
<pre><code>bank main

    if (forward cell is empty)
        clone self
        turn
    else if (forward cell is an opponent)
        infect the opponent with tapout malware
    else if (forward cell is friendly)
        disinfect friend
        turn

bank self-destruct
    self destruct
</code></pre>
</div>

<div id='scan-instruction'>
<h2><tt>scan a</tt></h2>
<table>
    </tr>
        <td>Semantics</td>
        <td>If the forward cell contains&#8230;
            <ul>
                <li>
                    nothing: then sets <tt>a</tt> to zero
                </li>
                <li>
                    an opponent bot: then sets <tt>a</tt> to 1
                </li>
                <li>
                    a friend bot: then sets <tt>a</tt> to 2
                </li>
            </ul>
        </td>
    </tr>
    <tr>
        <td>Data types</td>
        <td><tt>a</tt> must be writable
        </td>
    </tr>
    <tr>
        <td>Instruction set</td>
        <td>Advanced</td>
    </tr>
    <tr>
        <td>Number of cycles</td>
        <td>6</td>
    </tr>
    <tr>
        <td>Runtime exceptions</td>
        <td>If the bot&#8217;s instruction set is less than Advanced, then the
            bot taps out.
        </td>
    </tr>

</table>

<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#scan-instruction','#ref-forward-bot','Forward cell')">Forward cell</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#scan-instruction','#ref-instrset','Instruction Set')">Instruction Set</a></li>
</ul>
</div>

<div id='guide-hello-move'>
<h2>The <tt>move</tt> instruction</h2>
<p>The <code>move</code> instruction tells the bot to move forward one cell.</p>
<p>It takes 18 <a href="javascript:Sidenote.openColumnLoud('#guide-hello-move','#guide-hello-execution','cycles')">cycles</a> to execute; on the 18th cycle the bot 
attempts to move forward.</p>
<p>If the forward cell is occupied on the 18th cycle, then the <code>move</code> instruction
does nothing.</p>
</div>

<div id='empty-banks'>
<h2>Empty Banks</h2>
<p><a href="javascript:Sidenote.openColumnLoud('#empty-banks','#bank-jumping','Bank Jumper')">Bank Jumper</a> taught us that we can&#8217;t get away with just
attacking the first bank &#8212; since our opponent may be operating out of any
bank.</p>
<p>So now let&#8217;s build a program that can defeat Bank Jumper variants operating out
of any bank.</p>
<p>The idea is to fork Bank Jumper and replace its <code>@foe</code> routine with the
following pseudo code:</p>
<pre><code>for (int i = 1; i &lt;= 50; i++) {
    transfer [empty bank] to bank i
    if (forward cell does not contain opponent) {
        break
    }
}
</code></pre>
<p>The routine causes <a href="javascript:Sidenote.openColumnLoud('#empty-banks','#empty-banks-data-hunger','Data Hunger')">Data Hunger</a> in the opponent,
which causes the opponent to tap out.</p>
<p>To implement the new <code>@foe</code> routine, we need to learn the
<a href="javascript:Sidenote.openColumnLoud('#empty-banks','#empty-banks-add','add instruction')">add instruction</a>.</p>
<p>Here is the <a href="javascript:Sidenote.openColumnLoud('#empty-banks','#empty-banks-program','complete program')">complete program</a>.</p>
</div>

<div id='july-package'>
<h2>July Package</h2>
<p>The <a href="http://robocom.rrobek.de//download/julypack.zip">July Package</a>
contains a corpus of 50 RoboCom Classic programs, released in 1998.</p>
<p>We selected a subset of these programs for out tournament, based on the following
criteria:</p>
<p>Several programs appeared under different version numbers. For example,
the package includes
both <tt>Alien1.4</tt> and <tt>Alien3.4</tt>/. For such program families,
we only include the latest program (excluding the earlier programs in the family.
)</p>
<p>Lastly, we excluded <tt>Activator5</tt> because it fails to compile under 
Robo Dojo.</p>
<p><strong>TODO</strong>: Explain failed compilation</p>
</div>

<div id='guide-hello-compile'>
<h2>Compile button</h2>
<p>When you click Compile, the board clears itself then uploads your program to a
fresh bot, then randomly places the bot on the board.</p>
</div>

<div id='ref-parameters-writable'>
<h2>Writable parameters</h2>
<p>Most writable parameters begin with <code>#</code>. The only exception is the writable
parameter <code>%active</code>.</p>
<h3>List of all writable parameters</h3>
<table>
    <tr>
        <td><code>#1</code> &#8230; <code>#20</code></td>
        <td>These local registers store arbitrary integer values</td>
    </tr>
    <tr>
        <td><code>#active</code></td>
        <td>This is a special register: setting <code>#active</code> to 0 or negative deactivates the bot.</td>
    </tr>
    <tr>
        <td><code>%active</code></td>
        <td>A reference to the forward bot&#8217;s <code>#active</code> register.
        <code>%active</code> is the only remote parameter that is writable. Setting <code>%active</code> to 0 or negative
            deactivates the forward bot. In contrast, setting <code>%active</code> to a positive value activates the forward bot.</td>
    </tr>
</table>

<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-parameters-writable','#ref-forward-bot','Forward bot')">Forward bot</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-parameters-writable','#remote-access','Remote Access')">Remote Access</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-parameters-writable','#ref-active','Active')">Active</a></li>
</ul>
</div>

<div id='pv3-program'>
<h2>Complete program</h2>
<pre><code>bank launcher ; 1

    ; LOOK HERE: jump to bank 3 to evade Super Diamond's attack
    bjump 3,1

bank 2

bank main ; 3

    @start

    ; Register #1 = "empty", or "opponent", or "friend" 
    scan #1

    ; if "opponent" goto @foe
    ; else goto @friend-or-empty
    comp #1, 1
    jump @friend-or-empty
    jump @foe


    @friend-or-empty

    ; if "friend" skip the follow create instruction
    comp #1, 2
    create 2,5,0

    ; LOOK HERE: Disinfect / initialize new bot
    trans 1,1
    trans 3,3
    trans 4,4
    trans 5,5
    set %active, 1
    turn 1
    jump @start

    @foe

    comp #20, 0
    jump @infect-with-virus

    set #20, 1
    trans 5,1
    jump @restart

    @infect-with-virus
    ; LOOK HERE: Transfer self-destruct malware to the opponent
    set #20, 0
    trans 4,1

    @restart
    ; Make sure the opponent is active, so it can execute the foe bank
    set %active, 1
    jump @start

bank foe ; 4
    trans 1,1
    turn 1
    bjump 3, 1

bank tapout; 5
    tapout
</code></pre>
</div>

<div id='results-table'>
<h2>Reading the results</h2>
<p>For each program pairing, we ran a match under Robo Dojo and a match under
RoboCom. A match consists of seven or more bouts &#8212; where a bout is a
single program execution that ends once one color has been eliminated from the 
board, or the bout times out at 80,000 steps.</p>
<p>The results of a match are denoted <tt>A-B-C</tt>, where:</p>
<ul>
<li><tt>A</tt> is the number of times the <em>first</em> program won a bout</li>
<li><tt>B</tt> is the number of times the <em>second</em> program won a bout</li>
<li><tt>C</tt> the number of times the programs tied</li>
</ul>
<h3>Footnotes</h3>
<p><tt>*</tt>, <tt>+</tt>, and <tt>-</tt> denote &#8220;unusual&#8221; matches.</p>
<p><tt>*</tt> denotes an <a href="javascript:Sidenote.openColumnLoud('#results-table','#overtime-match','overtime match')">overtime match</a>.</p>
<p><tt>+</tt> denotes an overtime match where overtime times-out after 14 bouts.</p>
<p><tt>-</tt> denotes a match where the <a href="javascript:Sidenote.openColumnLoud('#results-table','#different-winners','winners are different')">winners are different</a>
in Robo Com and Robo Dojo.</p>
</div>

<div id='Super-diamond-battle'>
<h2>Super Diamond battle</h2>
<ol>
<li><a href="javascript:Sidenote.openColumnLoud('#Super-diamond-battle','#ad-battle-1','Diamond (red) starts out with more bots')">Diamond (red) starts out with more bots</a>, since it&#8217;s executing fewer instructions</li>
<li><a href="javascript:Sidenote.openColumnLoud('#Super-diamond-battle','#ad-battle-2','Diamond begins to experience tapouts')">Diamond begins to experience tapouts</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#Super-diamond-battle','#ad-battle-3','Super Diamond catches up with Diamond')">Super Diamond catches up with Diamond</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#Super-diamond-battle','#ad-battle-4','Super Diamond overwhelms Diamond')">Super Diamond overwhelms Diamond</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#Super-diamond-battle','#ad-battle-5','Super Diamond wins')">Super Diamond wins</a></li>
</ol>
</div>

<div id='infection-screenshot-4'>
<h2>Infection Screenshot 4</h2>
<p><img src="img/infection-screenshot-4.png"></p>
<p>Notice the Red bot that has been infected by Blue.</p>
</div>

<div id='ref-mobility'>
<h2>Mobility</h2>
<p>Each bot is either mobile or immobile.</p>
<p>Parent bots determine whether their children are mobile or immobile.</p>
<p>The <code>$mobile</code> constant is <code>1</code> if the bot is mobile, and <code>0</code> if the bot
is immobile.</p>
<p>An immobile bot taps out if it attempts to <a href="javascript:Sidenote.openColumnLoud('#ref-mobility','#move-instruction','&lt;tt&gt;move&lt;/tt&gt;')"><tt>move</tt></a>.</p>
<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-mobility','#create-instruction','&lt;tt&gt;create&lt;/tt&gt; instruction')"><tt>create</tt> instruction</a></li>
</ul>
</div>

<div id='infection-screenshot-1'>
<h2>Infection Screenshot 1</h2>
<p><img src="img/infection-screenshot-1.png"></p>
</div>

<div id='pv-1-h'>
<h2>Step 13,634</h2>
<p><img src="img/pv-1-h-13634.png" ></p>
<p>Blue is stuck because its frontier bots are infected with the virus.</p>
</div>

<div id='infection-screenshot-3'>
<h2>Infection Screenshot 3</h2>
<p><img src="img/infection-screenshot-3.png"></p>
</div>

<div id='infection-screenshot-2'>
<h2>Infection Screenshot 2</h2>
<p><img src="img/infection-screenshot-2.png"></p>
</div>

<div id='pv-1-e'>
<h2>Step 1387</h2>
<p><img src="img/pv-1-e-1387.png" ></p>
</div>

<div id='pv-1-d'>
<h2>Step 1307</h2>
<p><img src="img/pv-1-d-1307.png" ></p>
<p>The virus begins to spread.</p>
</div>

<div id='pv-1-g'>
<h2>Step 4037</h2>
<p><img src="img/pv-1-g-4037.png" ></p>
<p>The Blue team appears to be closing in on Red.</p>
</div>

<div id='pv-1-f'>
<h2>Step 1460</h2>
<p><img src="img/pv-1-f-1460.png" ></p>
<p>The Red team is completely infected with the virus.</p>
</div>

<div id='pv-1-a'>
<h2>Step 0</h2>
<p><img src="img/pv-1-a.png" ></p>
</div>

<div id='pv-1-c'>
<h2>Step 1279</h2>
<p><img src="img/pv-1-c-1279.png" ></p>
<p>Blue infects two Red bots with the virus.</p>
</div>

<div id='pv-1-b'>
<h2>Step 1229</h2>
<p><img src="img/pv-1-b-1229.png" ></p>
<p>Blue and Red make contact.</p>
</div>

<div id='empty-banks-data-hunger'>
<h2>Data Hunger</h2>
<ul>
<li>Let&#8217;s say an opponent bot is running on bank <em>n</em>.</li>
<li>If we overwrite bank <em>n</em> with an empty bank, then the opponent will perform
  an <a href="javascript:Sidenote.openColumnLoud('#empty-banks-data-hunger','#auto-reboot','Auto Reboot')">Auto Reboot</a></li>
<li>The Auto Reboot causes the opponent to restart at bank 1, instruction 1</li>
<li>If bank 1 is empty, then the opponent taps out due to &#8220;Data Hunger&#8221;</li>
</ul>
<p><strong>TODO</strong>: Link to auto reboot</p>
</div>

<div id='4way'>
<h2>Screenshot of a four-way battle</h2>
<p><img src="img/battle.png"></p>
<ul>
<li>Each tear-drop shape is a different bot</li>
<li>If a bot contains a circle of a different color, that means the bot
  is infected</li>
<li>If a bot has a white line through it, that means the bot is deactivated</li>
</ul>
</div>

<div id='pv1-program'>
<h2>PV1 Program</h2>
<pre><code>bank launcher ; 1

    ; LOOK HERE: jump to bank 3 to evade Super Diamond's attack
    bjump 3,1

bank 2

bank main ; 3

    @start

    ; Register #1 = "empty", or "opponent", or "friend" 
    scan #1

    ; if "opponent" goto @foe
    ; else goto @friend-or-empty
    comp #1, 1
    jump @friend-or-empty
    jump @foe


    @friend-or-empty

    ; if "friend" skip the follow create instruction
    comp #1, 2
    create 2,4,0

    ; LOOK HERE: Disinfect / initialize new bot
    trans 1,1
    trans 3,3
    trans 4,4
    set %active, 1
    turn 1
    jump @start

    @foe
    ; LOOK HERE: Transfer self-destruct malware to the opponent
    trans 4,1
    ; Make sure the opponent is active, so it can execute the foe bank
    set %active, 1
    jump @start

bank foe ; 4
    trans 1,1
    turn 1
</code></pre>
</div>

<div id='ref-comments'>
<h2>Comments</h2>
<p>You can include comments in your program with semicolons.</p>
<p>For example:</p>
<pre><code>bank main        ; bank #1
comp 1, #2       ; if #2 == 1, skip the next instruction
</code></pre>
</div>

<div id='defeating-diamond-jump'>
<h2><tt>jump</tt></h2>
<p>Example usage:</p>
<pre><code>@foo
turn 1
move

jump @foo
</code></pre>
<p>The bot turns and moves in an endless loop.</p>
</div>

<div id='auto-reboot'>
<h2>Auto Reboot</h2>
<p>An Auto Reboot is when a bot jumps to bank 1, instruction 1 due to a
non-fatal error. There are four events that can lead to an Auto Reboot.</p>
<ol>
<li>If a bot&#8217;s execution reaches the end of its current bank, and the last
   instruction is not a <a href="javascript:Sidenote.openColumnLoud('#auto-reboot','#jump-instruction','&lt;tt&gt;jump&lt;/tt&gt;')"><tt>jump</tt></a> instruction.</li>
<li>If a bot <a href="javascript:Sidenote.openColumnLoud('#auto-reboot','#bjump-instruction','&lt;tt&gt;bjump&lt;/tt&gt;')"><tt>bjump</tt></a>&#8217;s to a bank that does not
   exist. However, if the <code>bjump</code> jumps to a bank that couldn&#8217;t possibly exist
   (such as bank 51), then the bot taps out.</li>
<li>If a bot&#8217;s current bank is overwritten by an empty bank</li>
<li>If a bot&#8217;s current bank is overwritten by a smaller bank, and the bot&#8217;s
   instruction pointer becomes invalid</li>
</ol>
</div>

<div id='guide-hello-bank'>
<h2>The <tt>bank</tt> directive</h2>
<p>Every program is segmented into banks; every instruction belongs to exactly
one bank.</p>
<p>For our hello-world program, our program has only one bank, which we have
named the <tt>main</tt> bank.</p>
<p>When the simulation launches, each bot begins executing at the first instruction
of the first bank of the program.</p>
<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-hello-bank','#working-with-banks','Working with Banks')">Working with Banks</a> TODO</li>
</ul>
</div>

<div id='diamond'>
<h2>Diamond</h2>
<p>Adding a <code>turn</code> instruction to the Replication program builds a cluster of
bots in a diamond shape.</p>
<pre><code>bank main
create 2,1,0
trans 1,1
set %active, 1
turn 1
</code></pre>
<p><a href="javascript:Sidenote.openColumnLoud('#diamond','#guide-diamond-screenshot','Screenshot')">Screenshot</a></p>
<h3>How it works</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#diamond','#guide-diamond-turn','The &lt;tt&gt;turn&lt;/tt&gt; instruction')">The <tt>turn</tt> instruction</a></li>
</ul>
</div>

<div id='t822-note'>
<h2>Note on Robo Dojo execution</h2>
<p>In one board cycle, the selected bot becomes activated <em>and</em> executes one
cycle of the <code>set</code> instruction.</p>
<p>You might think that a bot shouldn&#8217;t be able to become activated <em>and</em>
execute a bot-cycle in the same board-cycle, however these semantics are
intentional.</p>
<p><a href="javascript:Sidenote.openColumnLoud('#t822-note','#t822-note-works','Here&amp;#8217;s how it works')">Here&#8217;s how it works</a>.</p>
<p>I have investigated preventing bots from executing a cycle immediately after
their activation, however this change did not effect convergence.</p>
</div>

<div id='add-instruction'>
<h2><tt>add a, b</tt></h2>
<table>
    </tr>
        <td>Semantics</td>
        <td>Sums <tt>a</tt> and <tt>b</tt>, then stores the result in
            <tt>a</tt></td>
    </tr>
    <tr>
        <td>Data types</td>
        <td><tt>a</tt> must be writable <br>
            <tt>b</tt> can be any parameter
        </td>
    </tr>
    <tr>
        <td>Instruction set</td>
        <td>Basic</td>
    </tr>
    <tr>
        <td>Number of cycles</td>
        <td>6</td>
    </tr>
    <tr>
        <td>Runtime exceptions</td>
        <td>None</td>
    </tr>

</table>
</div>

<div id='guide-repl-screenshot'>
<h2>Screenshot</h2>
<p><img src="img/replicate.png"></p>
</div>

<div id='guide-hello-execution'>
<h2>Execution model</h2>
<p>The board is the 16 x 16 toroidal universe where bots play.</p>
<p>Each cell can hold only one bot at a time.</p>
<p>The board executes one step at a time.</p>
<p>During each board step, the board executes one <a href="javascript:Sidenote.openColumnLoud('#guide-hello-execution','#cycle','cycle')">cycle</a> for each bot, in order
from oldest bot to newest bot.</p>
</div>

<div id='guide-hello-autoreboot'>
<h2>Auto Reboot</h2>
<p>Whenever a bot reaches the end of its bank, the bot Auto Reboots &#8212; which means
the bot&#8217;s execution starts over at the first instruction of the first bank.</p>
<p>In our Hello World program, Auto Reboot causes the bot to repeatedly execute
the move instruction.</p>
</div>

<div id='guide-diamond-screenshot'>
<h2>Screenshot</h2>
<p><img src="img/diamond.png"></p>
</div>

<div id='pv2-auto-reboot'>
<h2>Auto Reboot</h2>
<p>There are <a href="javascript:Sidenote.openColumnLoud('#pv2-auto-reboot','#autoreboot','many events')">many events</a> that can trigger an Auto Reboot.</p>
<p>Among them, if a bot executes a <code>bjump</code> instruction to a bank that doesn&#8217;t
exist, then the bot will Auto Reboot.</p>
<p>A bot reboots by jumping to the first instruction of the first bank.</p>
<p>If the first bank is empty, then the bot taps out from &#8220;Data Hunger.&#8221;</p>
<p><strong>TODO</strong>: Link to Auto Reboot.</p>
</div>

<div id='eng-virus-timing'>
<h2>Timing concerns</h2>
<p>Up until now, minor timing issues haven&#8217;t played a role in the development of
our programs. But viruses must be quick, in order to overwhelm disinfection.</p>
</div>

<div id='bank-jumping'>
<h2>Bank Jumper</h2>
<p>We can develop a program that defeats Super Diamond, by forking Super Diamond
and making a few small changes.</p>
<p>Basically, we use the <tt><a href="javascript:Sidenote.openColumnLoud('#bank-jumping','#bank-jumping-bjump','bjump')">bjump</a></tt> instruction to jump away from the first
bank. Since Super Diamond attacks the first bank, it easily evades Super
Diamond&#8217;s attack.</p>
<p>The Bank Jumper program looks like <a href="javascript:Sidenote.openColumnLoud('#bank-jumping','#bank-jumping-program','this')">this</a>.</p>
<p>In general, if you jump to arbitrary banks, its more difficult to attack you
since the attacker doesn&#8217;t know which bank to hit. Of course, the attacker
can target every bank, but that leads to a slower attack.</p>
</div>

<div id='defeating-diamond'>
<h2>Super Diamond</h2>
<p>Let&#8217;s build a program that defeats the Diamond program.</p>
<p>The general idea is to infect Diamond bots with malware that causes the 
infected bots to &#8220;tap out&#8221; &#8212; i.e. exit the board.</p>
<p>The <a href="javascript:Sidenote.openColumnLoud('#defeating-diamond','#defeating-diamond-pseudo','pseudo code for our Super Diamond program')">pseudo code for our Super Diamond program</a>
is straightforward and simple.</p>
<p>To implement it, we need to learn about <a href="javascript:Sidenote.openColumnLoud('#defeating-diamond','#defeating-diamond-registers','registers')">registers</a>
and four new instructions:</p>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#defeating-diamond','#defeating-diamond-tapout','tapout')">tapout</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#defeating-diamond','#defeating-diamond-scan','scan')">scan</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#defeating-diamond','#defeating-diamond-comp','comp')">comp</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#defeating-diamond','#defeating-diamond-jump','jump')">jump</a></li>
</ul>
<p>Putting it all together, here is the <a href="javascript:Sidenote.openColumnLoud('#defeating-diamond','#Super-diamond-program','Super Diamond program')">Super Diamond program</a>.</p>
<p>The battle should look something like <a href="javascript:Sidenote.openColumnLoud('#defeating-diamond','#Super-diamond-battle','this')">this</a>.</p>
</div>

<div id='guide-repl-create-slow'>
<h2>Slowest instruction</h2>
<p>Typically, the <code>create</code> instruction requires at least several hundred cycles.</p>
<ul>
<li>The greater the instruction set, the more cycles are required</li>
<li>The more banks, the more cycles required</li>
<li>If the child is to be mobile, the more cycles required</li>
</ul>
</div>

<div id='ref-instrset-super'>
<h2>Super Instruction Set</h2>
<p>There is only one instruction in the Super Instruction Set:</p>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-super','#create-instruction','&lt;tt&gt;create a, b, c&lt;/tt&gt;')"><tt>create a, b, c</tt></a></li>
</ul>
</div>

<div id='pv2-sd-comparison'>
<h2>PV2 payload on Super Diamond bots</h2>
<p>Super Diamond bots never have a third bank, so when they execute <code>bjump 3,1</code>
it causes a <a href="javascript:Sidenote.openColumnLoud('#pv2-sd-comparison','#pv2-auto-reboot','Auto Reboot')">Auto Reboot</a>, which results in the bot
restarting at bank 1.</p>
<p>Therefore, the new payload does not affect the way Super Diamond bots execute
the new virus payload (except for timing, since <code>bjump</code> takes up a few cycles).</p>
</div>

<div id='t826-rd-demo'>
<h2>T=826 in Robo Dojo</h2>
<p><img src="img/compat-826-rd.png"></p>
</div>

<div id='t826'>
<h2>T=826</h2>
<p>We this because:</p>
<ol>
<li>At <a href="javascript:Sidenote.openColumnLoud('#t826','#t825-rd-demo','T=825')">T=825</a> the selected bot was executing a <code>set</code> instruction</li>
<li>At <a href="javascript:Sidenote.openColumnLoud('#t826','#t826-rd-demo','T=826')">T=826</a> the selected bot was executing a <code>bjump</code> instruction</li>
</ol>
</div>

<div id='disinfection'>
<h2>Red bots quickly disinfect themselves</h2>
<p>This is because
every Red bot is more-or-less surrounded by other Red bots who are constantly
propagating their Red banks. Thus, when a Red bot becomes infected, its
neighboring Red bots disinfect the infected Red bot.</p>
</div>

<div id='infection-explanation'>
<h2>Infection explanation</h2>
<p>Each Blue bot has a <a href="javascript:Sidenote.openColumnLoud('#infection-explanation','#blue-infected-picture','Red circle inside it')">Red circle inside it</a>,
which indicates each Blue bot
is executing a bank that originated from Red&#8217;s program.</p>
<p>This happens because Red and Blue indiscriminately transfer their first bank 
to the bots in front of them.</p>
<p>So, when a Blue bot is infected with a Red bank, the Blue bot begins to turn
as it reproduces, propagating Red&#8217;s bank along the way.</p>
</div>

<div id='guide'>
<h2>Guide</h2>
<p>Through 8 case studies, this guide teaches you the essentials of Robo Dojo
programming. This guide assumes you are already a programmer.</p>
<ol>
<li><a href="javascript:Sidenote.openColumnLoud('#guide','#guide-hello','Hello World')">Hello World</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide','#replication','Replication')">Replication</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide','#diamond','Diamond')">Diamond</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide','#blue-red-programs','Infection &amp; Disinfection')">Infection &amp; Disinfection</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide','#defeating-diamond','Super Diamond')">Super Diamond</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide','#bank-jumping','Bank Jumper')">Bank Jumper</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide','#eng-virus','Prototype Virus')">Prototype Virus</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide','#empty-banks','Empty Banks')">Empty Banks</a></li>
</ol>
<p><a href="javascript:Sidenote.openColumnLoud('#guide','#review','Review')">Review</a></p>
</div>

<div id='blue-red-programs'>
<h2>Infection &amp; Disinfection</h2>
<p>You can launch different-colored bots on the board, each color with a different
program.</p>
<p>To edit the program for a color, select a color from the
<a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#color-dropdown','color editor drop-down menu')">color editor drop-down menu</a>.</p>
<p>For this experiment:</p>
<ul>
<li>Set the Blue bot program to the <a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#replication','Replication program')">Replication program</a></li>
<li>Set the Red bot program to the <a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#diamond','Diamond program')">Diamond program</a></li>
</ul>
<p>The result should look like <a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#infection-screenshot-1','this')">this</a>, or
<a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#infection-screenshot-2','this')">this</a>, <a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#infection-screenshot-3','this')">this</a>, or
maybe <a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#infection-screenshot-4','this')">this</a>.</p>
<p>The Red bots overwhelm the Blue bots, and
<a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#infection-explanation','infect them with Red&amp;#8217;s code banks')">infect them with Red&#8217;s code banks</a>.</p>
<p>Sometimes <a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#infection-screenshot-4','Blue bots infect Red bots')">Blue bots infect Red bots</a>, but Red bots quickly
<a href="javascript:Sidenote.openColumnLoud('#blue-red-programs','#disinfection','disinfect themselves')">disinfect themselves</a>.</p>
</div>

<div id='guide-hello-screenshot'>
<h2>Screenshot</h2>
<p><img src="img/hello-world.png"></p>
</div>

<div id='guide-hello-run'>
<h2>Run your program</h2>
<ol>
<li>Go to <a href="http://robodojo.club">RoboDojo.club</a></li>
<li>In the Editor, type in your program</li>
<li>Click Compile</li>
<li>Click the Play button. You will see your bot moving across the board.</li>
<li>Click the Pause button once you&#8217;re bored</li>
</ol>
</div>

<div id='color-dropdown'>
<h2>Color editor drop-down menu</h2>
<p><img src="img/color-dropdown.png"></p>
</div>

<div id='empty-banks-add'>
<h2><tt>add</tt> and <tt>sub</tt></h2>
<p><code>add #a, b</code> adds <code>#a</code> and <code>b</code> together, then stores the result in <code>#a</code>.</p>
<p><code>sub #a, b</code> subtracts <code>b</code> from <code>#a</code>, then stores the result in <code>#a</code>.</p>
</div>

<div id='ref-instrset-basic'>
<h2>Basic Instruction Set</h2>
<p>The following instructions are in the Basic Instruction Set:</p>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-basic','#add-instruction','&lt;tt&gt;add a, b&lt;/tt&gt;')"><tt>add a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-basic','#bjump-instruction','&lt;tt&gt;bjump a, b&lt;/tt&gt;')"><tt>bjump a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-basic','#comp-instruction','&lt;tt&gt;comp a, b&lt;/tt&gt;')"><tt>comp a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-basic','#jump-instruction','&lt;tt&gt;jump a&lt;/tt&gt;')"><tt>jump a</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-basic','#move-instruction','&lt;tt&gt;move&lt;/tt&gt;')"><tt>move</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-basic','#set-instruction','&lt;tt&gt;set a, b&lt;/tt&gt;')"><tt>set a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-basic','#sub-instruction','&lt;tt&gt;sub a, b&lt;/tt&gt;')"><tt>sub a, b</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-basic','#tapout-instruction','&lt;tt&gt;tapout&lt;/tt&gt;')"><tt>tapout</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-basic','#turn-instruction','&lt;tt&gt;turn a&lt;/tt&gt;')"><tt>turn a</tt></a> </li>
</ul>
</div>

<div id='robocom'>
<h2>RoboCom</h2>
<p>RoboCom is no longer actively maintained but its website is archived
<a href="http://robocom.rrobek.de/">here</a>. Here&#8217;s a <a href="javascript:Sidenote.openColumnLoud('#robocom','#robocomscreenshot','screenshot')">screenshot</a>.</p>
<p>Robo Dojo only implements the &#8220;Original&#8221; instruction set from RoboCom.</p>
<p>Robo Dojo uses the &#8220;Classic&#8221; timing model from RoboCom.</p>
<p>I have strove to make the Robo Dojo simulation semantics identical to RoboCom &#8212;
however <a href="javascript:Sidenote.openColumnLoud('#robocom','#compatibility','I could not create a cycle-for-cycle duplicate of RoboCom')">I could not create a cycle-for-cycle duplicate of RoboCom</a>.</p>
<p>Nevertheless, Robo Dojo and RoboCom have <a href="javascript:Sidenote.openColumnLoud('#robocom','#rdrc-battles','similar')">similar</a> semantics.</p>
</div>

<div id='ref-parameters-remote'>
<h2>Remote parameters</h2>
<p>Remote parameters refer to values in the <a href="javascript:Sidenote.openColumnLoud('#ref-parameters-remote','#ref-forward-bot','forward bot')">forward bot</a>.
If the remote cell is empty though, then every remote parameter yields the 
value <code>0</code>.</p>
<p>Every remote parameter begins with <code>%</code>.</p>
<p>There is only one <a href="javascript:Sidenote.openColumnLoud('#ref-parameters-remote','#ref-parameters-writable','writable')">writable</a> remote parameter:
<code>%active</code>. The rest are read-only.</p>
<h3>Examples</h3>
<ul>
<li><code>set %active, 1</code> sets the forward bot&#8217;s <code>#active</code> register to 1.</li>
<li><code>set #3, %banks</code> sets the local register <code>#3</code> to the number-of-banks
  in the forward bot. Or, sets <code>#3</code> to zero if the forward cell is 
  empty.</li>
</ul>
<h2>List of all remote parameters</h2>
<table>
    <tr>
        <td><code>%active</code></td>
        <td><code>%active</code> is the only remote parameter that is writable. Setting <code>%active</code> to 0 or negative
            deactivates the forward bot. In contrast, setting <code>%active</code> to a positive value activates the forward bot.</td>
    </tr>
    <tr>
        <td><code>%banks</code></td>
        <td>The number of banks in the forward bot.</td>
    </tr>
    <tr>
        <td><code>%instrset</code></td>
        <td>The instruction set of the forward bot. <code>0</code> signifies
        the <i>Basic</i> instruction set; <code>1</code> signifies the
        <i>Advanced</i> instruction
        set; <code>2</code> signifies the <i>Super</i> instruction set.</td>
    </tr>
    <tr>
        <td><code>%mobile</code></td>
        <td><code>0</code> if the forward bot is  immobile; <code>1</code>
        if the forward bot is mobile.</td>
    </tr>
</table>

<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-parameters-remote','#ref-active','Active')">Active</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-parameters-remote','#remote-access','Remote Access')">Remote Access</a></li>
</ul>
</div>

<div id='ad-battle-3'>
<p><img src="img/anti-diamond-3.png"></p>
</div>

<div id='rdrc-battles'>
<h2>Tournament</h2>
<p>To see how closely Robo Dojo matches RoboCom semantics, I ran a
Tournament of programs using <a href="javascript:Sidenote.openColumnLoud('#rdrc-battles','#july-package','programs from the July Package')">programs from the July Package</a>.</p>
<p>The <a href="javascript:Sidenote.openColumnLoud('#rdrc-battles','#rdrc-battles-details','results')">results</a> show that Robo Dojo semantics are similar
to RoboCom semantics: of the 38 matches in the tournament, Robo Dojo and RoboCom produced different
victors only four times.</p>
</div>

<div id='create-instruction'>
<h2><tt>create iset, banks, mobile</tt></h2>
<table>
    </tr>
        <td>Semantics</td>
        <td>
        On its final cycle:

        <ul>
         <li> if the forward cell is occupied, then does nothing.</li>
         <li> if the forward cell is empty, then deploys a new bot in the
             forward cell:
                <ul>
                    <li>The new bot&#8217;s <tt>$instrset</tt>, <tt>$banks</tt>, &
                        <tt>$mobile</tt> values are set to the
                        <tt>iset</tt>, <tt>banks</tt>, & <tt>mobile</tt> values
                        from the instruction.
                    </li>
                    <li>The new bot is initially deactivated</li>
                    <li>Each of the new bot&#8217;s banks is empty</li>

                </ul>
        </ul>
        </td>
    </tr>
    <tr>
        <td>Data types</td>
        <td>
            <tt>iset</tt>, <tt>banks</tt>, & <tt>mobile</tt> can be any
            parameter
        </td>
    </tr>
    <tr>
        <td>Instruction set</td>
        <td>Super</td>
    </tr>
    <tr>
        <td>Number of cycles</td>
        <td>

      <pre>
(50 + 20 * <tt>banks</tt>) *
(if (mobile == 1) 2 else 1) +
(if (iset == Advanced) 40 else 0) +
(if (iset == Super) 80 else 0) </pre>


        </td>
    </tr>
    <tr>
        <td>Runtime exceptions</td>
        <td>
        The parent bot taps out if any of the following events occur:
        <ul>
            <li>If the parent&#8217;s <tt>$instrset</tt> is less than Super</li>
            <li>If <tt>iset</tt> < 0 or <tt>iset</tt> > 2</li>
            <li>If <tt>banks</tt> < 1 or <tt>banks</tt> > 50</li>
            <li>IF <tt>mobile</tt> < 0 or <tt>mobile</tt> > 1</li>


        </ul>

        </td>
    </tr>
</table>

<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#create-instruction','#ref-instrset','Instruction Sets')">Instruction Sets</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#create-instruction','#ref-banks','Banks')">Banks</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#create-instruction','#ref-mobility','Mobility')">Mobility</a></li>
</ul>
</div>

<div id='move-instruction'>
<h2><tt>move</tt></h2>
<table>
    </tr>
        <td>Semantics</td>
        <td>During its final cycle, if the forward cell is empty, the bot
        moves into that cell. Otherwise, the instruction does nothing.
        </td>
    </tr>
    <tr>
        <td>Data types</td>
        <td>N/A
        </td>
    </tr>
    <tr>
        <td>Instruction set</td>
        <td>Basic</td>
    </tr>
    <tr>
        <td>Number of cycles</td>
        <td>18</td>
    </tr>
    <tr>
        <td>Runtime exceptions</td>
        <td>None
        </td>
    </tr>

</table>

<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#move-instruction','#ref-forward-bot','Forward cell')">Forward cell</a></li>
</ul>
</div>

<div id='why-virus'>
<h2>Why use viruses?</h2>
<p>It usually takes at least several hundred cycles to create a new bot.</p>
<p>On the other hand,
it only takes several tens of cycles to infect a bot with a small code bank.</p>
<p>So, commandeering a bot is more efficient than creating a bot by an order of
magnitude.</p>
</div>

<div id='t822-note-works'>
<h2>Here&#8217;s how it works</h2>
<ol>
<li>During T=821 every bot executes one cycle (or zero cycles if the bot is deactivated)</li>
<li>The bots execute in order from oldest bot to youngest bot</li>
<li>During T=821 The mother bot activates the selected bot</li>
<li>Since the selected bot is younger than the mother bot, it gets to execute
a cycle during T=821 after its mother</li>
</ol>
</div>

<div id='remote-access'>
<h2>Remote Access</h2>
<p>Every bot can remotely access its <a href="javascript:Sidenote.openColumnLoud('#remote-access','#ref-forward-bot','forward bot&amp;#8217;s')">forward bot&#8217;s</a> data to a limited extent.</p>
<p>The key is using <a href="javascript:Sidenote.openColumnLoud('#remote-access','#ref-parameters-remote','remote parameters')">remote parameters</a>.</p>
<p>For example, a bot can obtain the number of banks in the forward bot, by
using the <code>%banks</code> parameter.</p>
<h3>Default values</h3>
<p>If an instruction attempts to read a remote value, but the forward cell is empty,
then the remote value is read as zero.</p>
<h3>Remote-access cost</h3>
<p>Every instruction requires a certain number of cycles to execute.</p>
<p>When an instruction accesses a remote parameter (either reading or writing)
then the instruction takes longer to execute.</p>
<p>Specifically, the number of required cycles increases by <code>8</code> for every
remote parameter that is accessed.</p>
</div>

<div id='t821-demo'>
<h2>T=821</h2>
<p>s
<img src="img/compat-821-rd.png"></p>
<p><img src="img/compat-821-rc.png"></p>
</div>

<div id='compat-diff'>
<h2>Known differences between Robo Dojo and RoboCom</h2>
<ul>
<li>Elimintation trigger</li>
<li>Mobile first bot</li>
</ul>
</div>

<div id='defeating-diamond-comp'>
<h2><tt>comp</tt></h2>
<p>The <code>comp a, b</code> instruction compares <code>a</code> and <code>b</code>.</p>
<p>If <code>a</code> and <code>b</code> are equal, then the following instruction is skipped.</p>
<p>Otherwise, the following instruction is executed as normal.</p>
<h3>Example usage</h3>
<pre><code>comp #1, 0
turn 1
move
</code></pre>
<p>If <code>#1</code> == 0, then the bot does not turn.</p>
<p>Otherwise, the bot does turn.</p>
</div>

<div id='guide-repl-create-instrset-example'>
<h2>For example</h2>
<ul>
<li>The <code>move</code> instruction belongs to the Basic instruction set</li>
<li>The <code>create</code> instruction belongs to the Super instruction set</li>
</ul>
</div>

<div id='jump-instruction'>
<h2><tt>jump a</tt></h2>
<table>
    </tr>
        <td>Semantics</td>
        <td>If <tt>a</tt> is a label, then jump to the first instruction
           that appears after that label. Otherwise (if <tt>a</tt> is
           an integer), then jump <tt>a</tt> instructions forward or backward
           (depending on if <tt>a</tt> is positive or negative).

           For example, if <tt>a</tt> is 3, then jump to the third instruction
           that appears after the <tt>jump</tt> instruction.
        </td>
    </tr>
    <tr>
        <td>Data types</td>
        <td><tt>a</tt> can be any parameter. Also, it can be a label.
        </td>
    </tr>
    <tr>
        <td>Instruction set</td>
        <td>Basic</td>
    </tr>
    <tr>
        <td>Number of cycles</td>
        <td>2</td>
    </tr>
    <tr>
        <td>Runtime exceptions</td>
        <td>If the instruction jumps out of bounds (i.e. out side of its bank),
        then an Auto Reboot happens, possibly leading to Data Hunger.
        </td>
    </tr>

</table>

<h3>See also</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#jump-instruction','#ref-labels','Labels')">Labels</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#jump-instruction','#auto-reboot','Auto Reboot')">Auto Reboot</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#jump-instruction','#ref-data-hunger','Data Hunger')">Data Hunger</a></li>
</ul>
</div>

<div id='compatibility'>
<h2>Compatibility with RoboCom</h2>
<p>The problem is at least twofold:</p>
<ol>
<li>RoboCom is closed source</li>
<li>Some of RoboCom&#8217;s semantics appear to be undocumented</li>
</ol>
<p>Here is one example of <a href="javascript:Sidenote.openColumnLoud('#compatibility','#compat-mystery','mysterious RoboCom semantics')">mysterious RoboCom semantics</a>.</p>
<p><a href="javascript:Sidenote.openColumnLoud('#compatibility','#compat-diff','Known differences')">Known differences</a></p>
</div>

<div id='cycle'>
<h2>Cycle</h2>
<p>To execute an instruction, the bot must execute one or more cycles for the
instruction.</p>
<p>For example, the <code>move</code> instruction requires 18 cycles.</p>
<p>During the 18th cycle, the <code>move</code> instruction will actually execute.</p>
<p>Before the 18th cycle, the <code>move</code> instruction does nothing.</p>
<p><strong>See also</strong></p>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#cycle','#cycle-strategy','The Strategy of Cycles')">The Strategy of Cycles</a></li>
</ul>
</div>

<div id='ref-forward-bot'>
<h2>Forward bot</h2>
<p>Say <em>Bot X</em> is some bot on the board.</p>
<p>Relative to Bot X, the term <em>forward cell</em> refers to the cell directly
in front of Bot X.</p>
<p>If there is a bot in that cell, it is referred to as the <em>forward bot</em>.</p>
</div>

<div id='pv2-payload-comparison'>
<h2>PV2 payload on PV2 bots</h2>
<p>Since bank 3 is the main bank for PV2 bots, when a PV2 bot executes the virus 
payload it causes the PV2 bot to resume its execution as normal.</p>
</div>

<div id='guide-diamond-turn'>
<h2>The <tt>turn</tt> instruction</h2>
<p>The <code>turn</code> instruction takes one parameter.</p>
<ul>
<li>If the parameter is 0, the bot turns to the left (rotates -90°).</li>
<li>If the parameter is anything else, the bot turns to the right (rotates 90°).</li>
</ul>
</div>

<div id='defeating-diamond-scan'>
<h2><tt>scan</tt></h2>
<p>The <code>scan</code> instruction looks at the cell in front of the bot.</p>
<p><code>scan variable</code> sets <code>variable</code> to either 0, 1, or 2, depending on what is 
in front of the bot.</p>
<ul>
<li><code>variable</code> = 0 if the front cell is empty</li>
<li><code>variable</code> = 1 if the front cell contains an opponent</li>
<li><code>variable</code> = 2 if the front cell contains a friend</li>
</ul>
<h3>Example usage</h3>
<p><code>scan #1</code> sets <code>#1</code> to either 0, 1, or 2.</p>
</div>

<div id='t827'>
<h2>T=827</h2>
<p>We this because:</p>
<ol>
<li>At <a href="javascript:Sidenote.openColumnLoud('#t827','#t826-rc-demo','T=826')">T=826</a> the selected bot was executing a <code>set</code> instruction</li>
<li>At <a href="javascript:Sidenote.openColumnLoud('#t827','#t827-rc-demo','T=827')">T=827</a> the selected bot was executing a <code>bjump</code> instruction</li>
</ol>
</div>

<div id='t825-rd-demo'>
<h2>T=825 in Robo Dojo</h2>
<p><img src="img/compat-825-rd.png"></p>
</div>

<div id='t822'>
<h2>T=822</h2>
<p>We know this because:</p>
<ol>
<li>At <a href="javascript:Sidenote.openColumnLoud('#t822','#t821-demo','T=821')">T=821</a> the selected bots were deactivated</li>
<li>At <a href="javascript:Sidenote.openColumnLoud('#t822','#t822-demo','T=822')">T=822</a> the selected bots were activated</li>
</ol>
<p><a href="javascript:Sidenote.openColumnLoud('#t822','#t822-note','Note')">Note</a> on Robo Dojo execution.</p>
</div>

<div id='guide-repl-create'>
<h2>The <tt>create</tt> instruction</h2>
<p>The <code>create</code> instruction builds a new bot in front of the builder.</p>
<p>There are three parameters:</p>
<ol>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-repl-create','#guide-repl-create-instrset','Instruction set')">Instruction set</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-repl-create','#guide-repl-create-numbanks','Number of banks')">Number of banks</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#guide-repl-create','#guide-repl-create-mobility','Mobility')">Mobility</a></li>
</ol>
<p>The <code>create</code> instruction is the <a href="javascript:Sidenote.openColumnLoud('#guide-repl-create','#guide-repl-create-slow','slowest instruction')">slowest instruction</a>.</p>
<p>During the <code>create</code> instruction&#8217;s last cycle, if the forward cell is empty, then
the child will be created in front of the parent. The child bot will have empty
banks and will be &#8220;inactive&#8221; (which is why
we need to execute the <code>trans</code> and <code>set</code> instructions after <code>create</code>). </p>
<p>Thus, <code>create 2,1,0</code> creates an immobile bot with the Super instruction set and
one empty bank.</p>
</div>

<div id='guide-repl-set'>
<h2>The <tt>set</tt> instruction</h2>
<p>The <code>set</code> instruction assigns a value to a variable.</p>
<p>There are two parameters:</p>
<ol>
<li>Variable destination</li>
<li>Source value</li>
</ol>
<p>Thus, <code>set %active, 1</code> assigns the value <code>1</code> to the variable <code>%active</code>.</p>
<p><code>%active</code> is a special variable: setting it to <code>1</code> (or greater)
causes the forward bot to become activated.</p>
<p><strong>TODO</strong>: Link to article on variables and constants</p>
</div>

<div id='eng-virus'>
<h2>Prototype Virus</h2>
<p>We are going to fork Bank Jumper, and modify it to use a virus to defeat
Super Diamond.</p>
<h3>Sections</h3>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#eng-virus','#why-virus','Why use viruses?')">Why use viruses?</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#eng-virus','#eng-virus-timing','Timing concerns')">Timing concerns</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#eng-virus','#eng-virus-prototype','Prototype Virus 1')">Prototype Virus 1</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#eng-virus','#eng-virus-prototype-2','Prototype Virus 2')">Prototype Virus 2</a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#eng-virus','#eng-virus-prototype-3','Prototype Virus 3')">Prototype Virus 3</a></li>
</ul>
</div>

<div id='robocomscreenshot'>
<h2>RoboCom Screenshot</h2>
<p><img src="img/robocom-screenshot.png"></p>
</div>

<div id='ref-instrset-advanced'>
<h2>Advanced Instruction Set</h2>
<p>The following instructions are in the Advanced Instruction Set:</p>
<ul>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-advanced','#scan-instruction','&lt;tt&gt;scan a&lt;/tt&gt;')"><tt>scan a</tt></a></li>
<li><a href="javascript:Sidenote.openColumnLoud('#ref-instrset-advanced','#trans-instruction','&lt;tt&gt;trans a, b&lt;/tt&gt;')"><tt>trans a, b</tt></a> </li>
</ul>
</div>

<div id='bank-jumping-bjump'>
<h2>bjump</h2>
<p>The <code>bjump</code> instruction jumps from one bank to another.</p>
<p>It takes two parameters:</p>
<ol>
<li>The bank number to jump to</li>
<li>The instruction number (within that bank) to jump to</li>
</ol>
<h3>Example usage</h3>
<pre><code>bank one
bjump 3, 1

bank two

bank three
move
</code></pre>
<p>This causes the bot to jump to the first instruction of the third bank.</p>
</div>
    </div>
  </body>
</html>

